"use strict";(self.webpackChunkbrown_university_react_times=self.webpackChunkbrown_university_react_times||[]).push([[682],{"./stories/TimePicker.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithInitialTime:()=>WithInitialTime,WithValidation:()=>WithValidation,__namedExportsOrder:()=>__namedExportsOrder,default:()=>TimePicker_stories});var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),dist=__webpack_require__("./node_modules/brown-university-styles/dist/index.js"),addon_knobs_dist=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["id","time","focused","onTimeChange","onFocusChange","children"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var TimePickerContainer=function TimePickerContainer(_ref){var _ref$id=_ref.id,id=void 0===_ref$id?"time-picker":_ref$id,_ref$time=_ref.time,initialTime=void 0===_ref$time?null:_ref$time,_ref$focused=_ref.focused,initialFocused=void 0!==_ref$focused&&_ref$focused,_ref$onTimeChange=_ref.onTimeChange,onTimeChange=void 0===_ref$onTimeChange?function(){}:_ref$onTimeChange,_ref$onFocusChange=_ref.onFocusChange,onFocusChange=void 0===_ref$onFocusChange?function(){}:_ref$onFocusChange,children=_ref.children,restProps=_objectWithoutProperties(_ref,_excluded),_useState2=_slicedToArray((0,react.useState)(initialTime),2),time=_useState2[0],setTime=_useState2[1],_useState4=_slicedToArray((0,react.useState)(initialFocused),2),focused=_useState4[0],setFocused=_useState4[1];return react_default().cloneElement(children,function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({id,time,onTimeChange:function handleTimeChange(nextTime){setTime(nextTime),onTimeChange(nextTime)},focused,onFocusChange:function handleFocusChange(_ref2){var nextFocused=_ref2.focused;setFocused(nextFocused),onFocusChange({focused:nextFocused})}},restProps))};const utils_TimePickerContainer=TimePickerContainer;TimePickerContainer.__docgenInfo={description:"",methods:[],displayName:"TimePickerContainer",props:{id:{defaultValue:{value:'"time-picker"',computed:!1},required:!1},time:{defaultValue:{value:"null",computed:!1},required:!1},focused:{defaultValue:{value:"false",computed:!1},required:!1},onTimeChange:{defaultValue:{value:"() => undefined",computed:!1},required:!1},onFocusChange:{defaultValue:{value:"() => undefined",computed:!1},required:!1}}};var formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),index_esm=__webpack_require__("./node_modules/yup/index.esm.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function TimePickerContainerWithValidation(props){return react_default().createElement(formik_esm.l1,{initialValues:{time:""},validationSchema:index_esm.Ik().shape({time:index_esm.Yj().required("Required").matches(/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,{message:"Invalid"})})},(function(_ref){var values=_ref.values,setFieldValue=_ref.setFieldValue,setFieldTouched=_ref.setFieldTouched;return react_default().createElement(formik_esm.lV,null,react_default().createElement(utils_TimePickerContainer,_extends({time:values.time,onTimeChange:function onTimeChange(nextTime){setFieldValue("time",nextTime)},onFocusChange:function onFocusChange(_ref2){_ref2.focused||setFieldTouched("time")}},props)),react_default().createElement(formik_esm.Kw,{name:"time",component:"div",style:{color:"red",marginTop:10}}))}))}TimePickerContainerWithValidation.displayName="TimePickerContainerWithValidation",TimePickerContainerWithValidation.__docgenInfo={description:"",methods:[],displayName:"TimePickerContainerWithValidation"};var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),index_es6=__webpack_require__("./node_modules/react-fns/dist/index.es6.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),inputCSS=(0,styled_components_browser_esm.AH)(["box-sizing:border-box;color:",";display:block;font-family:",";font-size:",";width:100%;"],dist.colors.mediumGray,dist.typography.sans,(0,dist.getRems)(16)),MobileInput=styled_components_browser_esm.Ay.input.withConfig({displayName:"MobileTimePicker__MobileInput",componentId:"sc-1dhrhjt-0"})([""," padding:8px;"],inputCSS);function MobileTimePicker(_ref){var id=_ref.id,time=_ref.time,onTimeChange=_ref.onTimeChange,onFocusChange=_ref.onFocusChange;return react_default().createElement(MobileInput,{type:"time",id,value:time||"",onChange:function onChange(e){return onTimeChange(e.target.value)},onBlur:function onBlur(){return onFocusChange({focused:!1})}})}MobileTimePicker.displayName="MobileTimePicker",MobileTimePicker.propTypes={id:prop_types_default().string.isRequired,time:prop_types_default().string,onTimeChange:prop_types_default().func.isRequired,onFocusChange:prop_types_default().func.isRequired},MobileTimePicker.defaultProps={time:null},MobileTimePicker.__docgenInfo={description:"",methods:[],displayName:"MobileTimePicker",props:{time:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!0},onTimeChange:{description:"",type:{name:"func"},required:!0},onFocusChange:{description:"",type:{name:"func"},required:!0}}};var esm=__webpack_require__("./node_modules/react-popper/lib/esm/index.js");function ClickAndHold_typeof(o){return ClickAndHold_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ClickAndHold_typeof(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,ClickAndHold_toPropertyKey(descriptor.key),descriptor)}}function _callSuper(t,o,e){return o=_getPrototypeOf(o),function _possibleConstructorReturn(self,call){if(call&&("object"===ClickAndHold_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function ClickAndHold_defineProperty(obj,key,value){return(key=ClickAndHold_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ClickAndHold_toPropertyKey(t){var i=function ClickAndHold_toPrimitive(t,r){if("object"!=ClickAndHold_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ClickAndHold_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ClickAndHold_typeof(i)?i:String(i)}var ClickAndHold=function(_Component){function ClickAndHold(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClickAndHold),ClickAndHold_defineProperty(_assertThisInitialized(_this=_callSuper(this,ClickAndHold,[props])),"buttonPressTimeout",null),ClickAndHold_defineProperty(_assertThisInitialized(_this),"onClickInterval",null),ClickAndHold_defineProperty(_assertThisInitialized(_this),"handleButtonPress",(function(){_this.buttonPressTimeout=setTimeout(_this.handleOnClickIntervalStart,125)})),ClickAndHold_defineProperty(_assertThisInitialized(_this),"handleButtonRelease",(function(_ref){var clicked=_ref.clicked;clearTimeout(_this.buttonPressTimeout),clicked&&_this.state.onClickCallCount<1&&_this.props.onClick(),_this.handleOnClickIntervalEnd()})),ClickAndHold_defineProperty(_assertThisInitialized(_this),"handleOnClickIntervalStart",(function(){_this.onClickInterval=setInterval((function(){_this.props.onClick(),_this.setState((function(prevState){return{onClickCallCount:prevState.onClickCallCount+1}}))}),125)})),ClickAndHold_defineProperty(_assertThisInitialized(_this),"handleOnClickIntervalEnd",(function(){clearInterval(_this.onClickInterval),_this.setState({onClickCallCount:0})})),_this.state={onClickCallCount:0},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ClickAndHold,_Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ClickAndHold,[{key:"render",value:function render(){var _this2=this;return this.props.children({onMouseDown:this.handleButtonPress,onMouseUp:function onMouseUp(){return _this2.handleButtonRelease({clicked:!0})},onMouseLeave:function onMouseLeave(){return _this2.handleButtonRelease({clicked:!1})},onKeyPress:function onKeyPress(e){[" ","Enter"].includes(e.key)&&_this2.handleButtonRelease({clicked:!0})}})}}]),ClickAndHold}(react.Component);ClickAndHold.displayName="ClickAndHold",ClickAndHold.propTypes={onClick:prop_types_default().func.isRequired,children:prop_types_default().func.isRequired};const utils_ClickAndHold=ClickAndHold;function DialButton_extends(){return DialButton_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},DialButton_extends.apply(this,arguments)}ClickAndHold.__docgenInfo={description:"",methods:[{name:"handleButtonPress",docblock:null,modifiers:[],params:[],returns:null},{name:"handleButtonRelease",docblock:null,modifiers:[],params:[{name:"{ clicked }",optional:!1,type:null}],returns:null},{name:"handleOnClickIntervalStart",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnClickIntervalEnd",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ClickAndHold",props:{onClick:{description:"",type:{name:"func"},required:!0},children:{description:"",type:{name:"func"},required:!0}}};var Button=styled_components_browser_esm.Ay.button.withConfig({displayName:"DialButton__Button",componentId:"sc-1ry571d-0"})(["background-color:transparent;border:1px solid ",";border-radius:3px;color:",";cursor:pointer;line-height:0.78;padding:9px 6px;#chevron-up,#chevron-down{fill:",";}"],dist.colors.lightGray,(function(_ref){var color=_ref.color;return dist.colors[color]}),(function(_ref2){var color=_ref2.color;return dist.colors[color]}));function DialButton(_ref3){var color=_ref3.color,ariaLabel=_ref3.ariaLabel,onClick=_ref3.onClick,children=_ref3.children;return react_default().createElement(utils_ClickAndHold,{onClick},(function(clickAndHoldProps){return react_default().createElement(Button,DialButton_extends({type:"button",color,"aria-label":ariaLabel},clickAndHoldProps),children)}))}DialButton.displayName="DialButton",DialButton.propTypes={color:prop_types_default().oneOf(["red","brown","emerald","darkEmerald","skyBlue","navy","idRed"]).isRequired,ariaLabel:prop_types_default().string.isRequired,onClick:prop_types_default().func.isRequired,children:prop_types_default().node.isRequired},DialButton.__docgenInfo={description:"",methods:[],displayName:"DialButton",props:{color:{description:"",type:{name:"enum",value:[{value:'"red"',computed:!1},{value:'"brown"',computed:!1},{value:'"emerald"',computed:!1},{value:'"darkEmerald"',computed:!1},{value:'"skyBlue"',computed:!1},{value:'"navy"',computed:!1},{value:'"idRed"',computed:!1}]},required:!0},ariaLabel:{description:"",type:{name:"string"},required:!0},onClick:{description:"",type:{name:"func"},required:!0},children:{description:"",type:{name:"node"},required:!0}}};var chevron_up_excluded=["styles"];function chevron_up_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function chevron_up_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function chevron_up_extends(){return chevron_up_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},chevron_up_extends.apply(this,arguments)}const chevron_up=function(_ref){_ref.styles;var props=chevron_up_objectWithoutProperties(_ref,chevron_up_excluded);return react_default().createElement("svg",chevron_up_extends({focusable:"false",width:"14",height:"8"},props),react_default().createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},react_default().createElement("path",{d:"M4.429 10.642V2.785a.714.714 0 10-1.429 0v8.572a.712.712 0 00.714.714h8.572a.714.714 0 000-1.429H4.429z",transform:"scale(1 -1) rotate(-45 -9.571 1.207)",id:"chevron-up",fill:"#98A4AE"})))};var chevron_down_excluded=["styles"];function chevron_down_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function chevron_down_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function chevron_down_extends(){return chevron_down_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},chevron_down_extends.apply(this,arguments)}const chevron_down=function(_ref){_ref.styles;var props=chevron_down_objectWithoutProperties(_ref,chevron_down_excluded);return react_default().createElement("svg",chevron_down_extends({focusable:"false",width:"14",height:"8"},props),react_default().createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},react_default().createElement("path",{d:"M309.429 294.642v-7.857a.714.714 0 10-1.429 0v8.572a.712.712 0 00.714.714h8.572a.714.714 0 000-1.429h-7.857z",transform:"scale(-1 1) rotate(-45 -197.061 532.345)",id:"chevron-down",fill:"#98A4AE"})))};var Wrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"Dial__Wrapper",componentId:"sc-6o91f6-0"})(["text-align:center;"]),Value=styled_components_browser_esm.Ay.div.withConfig({displayName:"Dial__Value",componentId:"sc-6o91f6-1"})(["color:",";font-family:",";font-size:14px;font-weight:bold;padding:10px 0;"],dist.colors.black,dist.typography.sans);function Dial(_ref){var color=_ref.color,name=_ref.name,value=_ref.value,increment=_ref.increment,decrement=_ref.decrement;return react_default().createElement(Wrapper,null,react_default().createElement(DialButton,{color,ariaLabel:"Increment ".concat(name),onClick:increment},react_default().createElement(chevron_up,null)),react_default().createElement(Value,{"data-testid":"".concat(name,"-value")},value),react_default().createElement(DialButton,{color,ariaLabel:"Decrement ".concat(name),onClick:decrement},react_default().createElement(chevron_down,null)))}Dial.displayName="Dial",Dial.propTypes={color:prop_types_default().oneOf(["red","brown","emerald","darkEmerald","skyBlue","navy","idRed"]).isRequired,name:prop_types_default().string.isRequired,value:prop_types_default().string.isRequired,increment:prop_types_default().func.isRequired,decrement:prop_types_default().func.isRequired},Dial.__docgenInfo={description:"",methods:[],displayName:"Dial",props:{color:{description:"",type:{name:"enum",value:[{value:'"red"',computed:!1},{value:'"brown"',computed:!1},{value:'"emerald"',computed:!1},{value:'"darkEmerald"',computed:!1},{value:'"skyBlue"',computed:!1},{value:'"navy"',computed:!1},{value:'"idRed"',computed:!1}]},required:!0},name:{description:"",type:{name:"string"},required:!0},value:{description:"",type:{name:"string"},required:!0},increment:{description:"",type:{name:"func"},required:!0},decrement:{description:"",type:{name:"func"},required:!0}}};var INVALID_TIME="Invalid Time";function utils_slicedToArray(arr,i){return function utils_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function utils_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||utils_unsupportedIterableToArray(arr,i)||function utils_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return utils_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||utils_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function utils_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?utils_arrayLikeToArray(o,minLen):void 0}}function utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getInputIsDirty=function getInputIsDirty(val){return null!==val},getInputValueIsValid=function getInputValueIsValid(val){return!!val&&val.trim().length<9&&/\b((1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm]))/.test(val)},deriveInputValue=function deriveInputValue(inputIsDirty,inputValue,dialValues){if(inputIsDirty)return inputValue;var _dialValues=utils_slicedToArray(dialValues,3),hh=_dialValues[0],mm=_dialValues[1],aa=_dialValues[2];return"--"===hh&&"--"===mm&&"--"===aa?"":"".concat(hh,":").concat(mm," ").concat(aa)},transformDialValuesToTime=function transformDialValuesToTime(hh,mm,aa){if(!hh||!mm||!aa)return null;var HH,hhAsNum=Number(hh);return HH=12===hhAsNum&&"AM"===aa?"00":hhAsNum<12&&"PM"===aa?String(hhAsNum+12):hh.padStart(2,"0"),"".concat(HH,":").concat(mm)},hoursDialOptions=Array(12).fill().map((function(_,idx){return String(1+idx).padStart(2,"0")})),minutesDialOptions=Array(60).fill().map((function(_,idx){return String(0+idx).padStart(2,"0")})),meridiemDialOptions=["AM","PM"],getNextDialOption=function getNextDialOption(options,current){var currentIdx=options.indexOf(current);return currentIdx<options.length-1?options[currentIdx+1]:options[0]},getPreviousDialOption=function getPreviousDialOption(options,current){var currentIdx=options.indexOf(current);return 0!==currentIdx?options[currentIdx-1]:options[options.length-1]};const utils_debounce=function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout((function later(){timeout=null,immediate||func.apply(context,args)}),wait),callNow&&func.apply(context,args)}};function DesktopTimePicker_typeof(o){return DesktopTimePicker_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DesktopTimePicker_typeof(o)}function DesktopTimePicker_slicedToArray(arr,i){return function DesktopTimePicker_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DesktopTimePicker_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||DesktopTimePicker_unsupportedIterableToArray(arr,i)||function DesktopTimePicker_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DesktopTimePicker_toConsumableArray(arr){return function DesktopTimePicker_arrayWithoutHoles(arr){if(Array.isArray(arr))return DesktopTimePicker_arrayLikeToArray(arr)}(arr)||function DesktopTimePicker_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||DesktopTimePicker_unsupportedIterableToArray(arr)||function DesktopTimePicker_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DesktopTimePicker_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return DesktopTimePicker_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DesktopTimePicker_arrayLikeToArray(o,minLen):void 0}}function DesktopTimePicker_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function DesktopTimePicker_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,DesktopTimePicker_toPropertyKey(descriptor.key),descriptor)}}function DesktopTimePicker_callSuper(t,o,e){return o=DesktopTimePicker_getPrototypeOf(o),function DesktopTimePicker_possibleConstructorReturn(self,call){if(call&&("object"===DesktopTimePicker_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return DesktopTimePicker_assertThisInitialized(self)}(t,DesktopTimePicker_isNativeReflectConstruct()?Reflect.construct(o,e||[],DesktopTimePicker_getPrototypeOf(t).constructor):o.apply(t,e))}function DesktopTimePicker_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(DesktopTimePicker_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function DesktopTimePicker_getPrototypeOf(o){return DesktopTimePicker_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},DesktopTimePicker_getPrototypeOf(o)}function DesktopTimePicker_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function DesktopTimePicker_setPrototypeOf(o,p){return DesktopTimePicker_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},DesktopTimePicker_setPrototypeOf(o,p)}function DesktopTimePicker_defineProperty(obj,key,value){return(key=DesktopTimePicker_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DesktopTimePicker_toPropertyKey(t){var i=function DesktopTimePicker_toPrimitive(t,r){if("object"!=DesktopTimePicker_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=DesktopTimePicker_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==DesktopTimePicker_typeof(i)?i:String(i)}var DesktopInput=styled_components_browser_esm.Ay.input.withConfig({displayName:"DesktopTimePicker__DesktopInput",componentId:"sc-wn6wad-0"})([""," padding:10px;&:focus{outline:0;}"],inputCSS),PopperWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"DesktopTimePicker__PopperWrapper",componentId:"sc-wn6wad-1"})(['background-color:#fff;box-shadow:0 2px 6px rgba(0,0,0,0.05),0 0 0 1px rgba(0,0,0,0.07);border-radius:3px;padding:22px;z-index:1;&[data-placement*="bottom-start"]{margin-top:20px;}&[data-placement*="top-start"]{margin-bottom:20px;}']),Fang=styled_components_browser_esm.Ay.div.withConfig({displayName:"DesktopTimePicker__Fang",componentId:"sc-wn6wad-2"})(['border:8px solid transparent;position:absolute;&::before{border:8px solid transparent;border-width:9px;content:"";left:-9px;position:absolute;z-index:-1;}&[data-placement*="bottom-start"]{border-bottom-color:#fff;border-top:none;margin-top:-8px;top:0;&::before{border-bottom-color:#dbdbdb;border-top:none;top:-1px;}}&[data-placement*="top-start"]{bottom:0;border-bottom:none;border-top-color:#fff;margin-bottom:-8px;&::before{bottom:-1px;border-bottom:none;border-top-color:#dbdbdb;}}']),ClockWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"DesktopTimePicker__ClockWrapper",componentId:"sc-wn6wad-3"})(["display:flex;justify-content:space-between;width:104px;"]),DesktopTimePicker=function(_PureComponent){function DesktopTimePicker(props){var _this;return function DesktopTimePicker_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DesktopTimePicker),DesktopTimePicker_defineProperty(DesktopTimePicker_assertThisInitialized(_this=DesktopTimePicker_callSuper(this,DesktopTimePicker,[props])),"wrapper",react_default().createRef()),DesktopTimePicker_defineProperty(DesktopTimePicker_assertThisInitialized(_this),"handleInputValueChange",(function(e){var inputValue=e.target.value;_this.setState({inputIsDirty:getInputIsDirty(inputValue),inputValue}),_this.handleInputValueValidation(inputValue),_this.props.focused||_this.handleFocusChange(!0)})),DesktopTimePicker_defineProperty(DesktopTimePicker_assertThisInitialized(_this),"handleInputValueValidation",utils_debounce((function(value){return _this.setState({inputValueIsValid:getInputValueIsValid(value)})}),250)),DesktopTimePicker_defineProperty(DesktopTimePicker_assertThisInitialized(_this),"handleInputValueReset",(function(){_this.setState(_this.initialState)})),DesktopTimePicker_defineProperty(DesktopTimePicker_assertThisInitialized(_this),"handleFocusChange",(function(focused){_this.props.onFocusChange({focused})})),DesktopTimePicker_defineProperty(DesktopTimePicker_assertThisInitialized(_this),"handleClick",(function(e){_this.wrapper.current.contains(e.target)||_this.props.focused&&_this.handleFocusChange(!1)})),DesktopTimePicker_defineProperty(DesktopTimePicker_assertThisInitialized(_this),"handleKeydown",(function(e){_this.wrapper.current&&9===e.keyCode&&(e.shiftKey&&"hours:minutes meridiem"===e.target.getAttribute("aria-label")&&_this.handleFocusChange(!1),e.shiftKey||"Decrement meridiem"!==e.target.getAttribute("aria-label")||_this.handleFocusChange(!1))})),_this.state={inputIsDirty:!1,inputValue:null,inputValueIsValid:!1},_this.initialState=_this.state,_this}return function DesktopTimePicker_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&DesktopTimePicker_setPrototypeOf(subClass,superClass)}(DesktopTimePicker,_PureComponent),function DesktopTimePicker_createClass(Constructor,protoProps,staticProps){return protoProps&&DesktopTimePicker_defineProperties(Constructor.prototype,protoProps),staticProps&&DesktopTimePicker_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DesktopTimePicker,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("click",this.handleClick),document.addEventListener("keydown",this.handleKeydown)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var timeChanged=prevProps.time!==this.props.time,inputValueChanged=prevState.inputValue!==this.state.inputValue,_this$state=this.state,inputIsDirty=_this$state.inputIsDirty,inputValue=_this$state.inputValue,inputValueIsValid=_this$state.inputValueIsValid;inputValueIsValid?(this.props.onTimeChange(transformDialValuesToTime.apply(void 0,DesktopTimePicker_toConsumableArray(function transformInputValueToDialValues(val){var cleanedVal=val.trim().replace("am","AM").replace("aM","AM").replace("Am","AM").replace("pm","PM").replace("pM","PM").replace("Pm","PM");return cleanedVal.includes(" ")?_toConsumableArray(cleanedVal.split(/:| /)):_toConsumableArray(cleanedVal.replace(/[AP]/," $&").split(/:| /))}(inputValue)))),this.handleInputValueReset()):timeChanged&&!["",INVALID_TIME].includes(this.props.time)?this.handleInputValueReset():inputValueChanged&&inputIsDirty&&!inputValueIsValid&&this.props.onTimeChange(""===inputValue?"":INVALID_TIME)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("click",this.handleClick),document.removeEventListener("keyDown",this.handleKeydown)}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,color=_this$props.color,id=_this$props.id,time=_this$props.time,onTimeChange=_this$props.onTimeChange,focused=_this$props.focused,_this$state2=this.state,inputIsDirty=_this$state2.inputIsDirty,inputValue=_this$state2.inputValue,inputValueIsValid=_this$state2.inputValueIsValid,_transformTimeToDialV=function transformTimeToDialValues(time){if(!time||""===time||time===INVALID_TIME)return["--","--","--"];var _time$split2=utils_slicedToArray(time.split(":"),2),HH=_time$split2[0],mm=_time$split2[1],HHAsNum=Number(HH),aa=HHAsNum<12?"AM":"PM";return[0===HHAsNum?"12":HHAsNum>12?String(HHAsNum-12).padStart(2,"0"):String(HHAsNum).padStart(2,"0"),mm,aa]}(time),_transformTimeToDialV2=DesktopTimePicker_slicedToArray(_transformTimeToDialV,3),hh=_transformTimeToDialV2[0],mm=_transformTimeToDialV2[1],aa=_transformTimeToDialV2[2],hoursDialValue="--"===hh?"12":hh,minutesDialValue="--"===mm?"00":mm,meridiemDialValue="--"===aa?"PM":aa,shouldShowDialValues=!inputIsDirty||inputValueIsValid;return react_default().createElement("div",{ref:this.wrapper},react_default().createElement(esm.mS,null,react_default().createElement(esm.Or,null,(function(_ref){var ref=_ref.ref;return react_default().createElement(DesktopInput,{"aria-label":"hours:minutes meridiem",type:"text",placeholder:"--:-- --",ref,id,value:deriveInputValue(inputIsDirty,inputValue,[hh,mm,aa]),onFocus:function onFocus(){return _this2.handleFocusChange(!0)},onChange:_this2.handleInputValueChange})})),focused&&react_default().createElement(esm.ND,{placement:"bottom-start"},(function(_ref2){var ref=_ref2.ref,style=_ref2.style,placement=_ref2.placement;return react_default().createElement(PopperWrapper,{ref,style,"data-placement":placement},react_default().createElement(Fang,{"data-placement":placement}),react_default().createElement(ClockWrapper,{"aria-label":"Clock"},react_default().createElement(Dial,{color,name:"hours",value:shouldShowDialValues?hoursDialValue:"--",increment:function increment(){return onTimeChange(transformDialValuesToTime(getNextDialOption(hoursDialOptions,hoursDialValue),minutesDialValue,meridiemDialValue))},decrement:function decrement(){return onTimeChange(transformDialValuesToTime(getPreviousDialOption(hoursDialOptions,hoursDialValue),minutesDialValue,meridiemDialValue))}}),react_default().createElement(Dial,{color,name:"minutes",value:shouldShowDialValues?minutesDialValue:"--",increment:function increment(){return onTimeChange(transformDialValuesToTime(hoursDialValue,getNextDialOption(minutesDialOptions,minutesDialValue),meridiemDialValue))},decrement:function decrement(){return onTimeChange(transformDialValuesToTime(hoursDialValue,getPreviousDialOption(minutesDialOptions,minutesDialValue),meridiemDialValue))}}),react_default().createElement(Dial,{color,name:"meridiem",value:shouldShowDialValues?meridiemDialValue:"--",increment:function increment(){return onTimeChange(transformDialValuesToTime(hoursDialValue,minutesDialValue,getNextDialOption(meridiemDialOptions,meridiemDialValue)))},decrement:function decrement(){return onTimeChange(transformDialValuesToTime(hoursDialValue,minutesDialValue,getPreviousDialOption(meridiemDialOptions,meridiemDialValue)))}})))}))))}}]),DesktopTimePicker}(react.PureComponent);DesktopTimePicker.displayName="DesktopTimePicker",DesktopTimePicker.propTypes={color:prop_types_default().oneOf(["red","brown","emerald","darkEmerald","skyBlue","navy","idRed"]),id:prop_types_default().string.isRequired,time:prop_types_default().string,onTimeChange:prop_types_default().func.isRequired,focused:prop_types_default().bool.isRequired,onFocusChange:prop_types_default().func.isRequired},DesktopTimePicker.defaultProps={color:"red",time:null};const TimePicker_DesktopTimePicker=DesktopTimePicker;DesktopTimePicker.__docgenInfo={description:"",methods:[{name:"handleInputValueChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleInputValueReset",docblock:null,modifiers:[],params:[],returns:null},{name:"handleFocusChange",docblock:null,modifiers:[],params:[{name:"focused",optional:!1,type:null}],returns:null},{name:"handleClick",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleKeydown",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null}],displayName:"DesktopTimePicker",props:{color:{defaultValue:{value:'"red"',computed:!1},description:"",type:{name:"enum",value:[{value:'"red"',computed:!1},{value:'"brown"',computed:!1},{value:'"emerald"',computed:!1},{value:'"darkEmerald"',computed:!1},{value:'"skyBlue"',computed:!1},{value:'"navy"',computed:!1},{value:'"idRed"',computed:!1}]},required:!1},time:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!0},onTimeChange:{description:"",type:{name:"func"},required:!0},focused:{description:"",type:{name:"bool"},required:!0},onFocusChange:{description:"",type:{name:"func"},required:!0}}};var TimePicker_excluded=["mobileBreakpoint"];function TimePicker_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function TimePicker_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function TimePicker(_ref){var mobileBreakpoint=_ref.mobileBreakpoint,restProps=TimePicker_objectWithoutProperties(_ref,TimePicker_excluded);return react_default().createElement(index_es6.gP,{render:function render(_ref2){var width=_ref2.width;return(0===width?window.innerWidth:width)<mobileBreakpoint?react_default().createElement(MobileTimePicker,restProps):react_default().createElement(TimePicker_DesktopTimePicker,restProps)}})}function TimePicker_stories_extends(){return TimePicker_stories_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},TimePicker_stories_extends.apply(this,arguments)}TimePicker.displayName="TimePicker",TimePicker.propTypes={mobileBreakpoint:prop_types_default().number},TimePicker.defaultProps={mobileBreakpoint:dist.breakpoints.md},TimePicker.__docgenInfo={description:"",methods:[],displayName:"TimePicker",props:{mobileBreakpoint:{defaultValue:{value:"breakpoints.md",computed:!0},description:"",type:{name:"number"},required:!1}}};var getCommonProps=function getCommonProps(){return{color:(0,addon_knobs_dist.select)("color",["red","brown","emerald","darkEmerald","skyBlue","navy","idRed"]),mobileBreakpoint:(0,addon_knobs_dist.number)("mobileBreakpoint",dist.breakpoints.md)}},renderTimePicker=function renderTimePicker(additionalProps){return react_default().createElement(utils_TimePickerContainer,TimePicker_stories_extends({},additionalProps,getCommonProps()),react_default().createElement(TimePicker,null))};renderTimePicker.displayName="renderTimePicker";const TimePicker_stories={title:"TimePicker",decorators:[addon_knobs_dist.withKnobs]};var Default=function Default(){return renderTimePicker()};Default.story={name:"default"};var WithInitialTime=function WithInitialTime(){return renderTimePicker({time:"09:41"})};function WithValidation(){return react_default().createElement(TimePickerContainerWithValidation,getCommonProps(),react_default().createElement(TimePicker,null))}WithInitialTime.story={name:"with initial time"},WithValidation.displayName="WithValidation",WithValidation.story={name:"with validation"},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"() => renderTimePicker()",...Default.parameters?.docs?.source}}},WithInitialTime.parameters={...WithInitialTime.parameters,docs:{...WithInitialTime.parameters?.docs,source:{originalSource:'() => renderTimePicker({\n  time: "09:41"\n})',...WithInitialTime.parameters?.docs?.source}}},WithValidation.parameters={...WithValidation.parameters,docs:{...WithValidation.parameters?.docs,source:{originalSource:"function WithValidation() {\n  return <TimePickerContainerWithValidation {...getCommonProps()}>\n      <TimePicker />\n    </TimePickerContainerWithValidation>;\n}",...WithValidation.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithInitialTime","WithValidation"]}}]);